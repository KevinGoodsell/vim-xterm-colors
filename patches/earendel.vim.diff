--- originals/earendel.vim	2010-01-20 22:48:38.000000000 -0800
+++ patched/earendel.vim	2010-04-14 20:41:25.000000000 -0700
@@ -10,6 +10,7 @@
 
 if &background == "light"
     hi Normal ctermbg=15 ctermfg=0 guibg=#ffffff guifg=#000000 gui=none
+    set background=light " Normal might change this
 
     hi Cursor guibg=#000000 guifg=#ffffff gui=none
     hi CursorColumn ctermbg=7 ctermfg=fg guibg=#dfdfdf gui=none
@@ -48,11 +49,7 @@
     hi TabLineSel guibg=bg guifg=fg gui=bold
     hi Title guifg=fg gui=bold
     hi VertSplit ctermbg=7 ctermfg=fg guibg=#bcc7de guifg=#384547 gui=none
-    if version >= 700
-        hi Visual ctermbg=7 ctermfg=fg guibg=#b5c5e6 gui=none
-    else
-        hi Visual ctermbg=7 ctermfg=fg guibg=#b5c5e6 guifg=fg gui=none
-    endif    
+    hi Visual ctermbg=7 ctermfg=fg guibg=#b5c5e6 guifg=fg gui=none
     hi VisualNOS ctermbg=8 ctermfg=fg guibg=bg guifg=#4069bf gui=bold,underline
     hi WarningMsg guibg=bg guifg=#ca001f gui=bold
     hi WildMenu guibg=#fedc56 guifg=fg gui=bold
@@ -78,8 +75,12 @@
     hi htmlItalic ctermbg=bg ctermfg=fg guibg=bg guifg=fg gui=italic
     hi htmlUnderline ctermbg=bg ctermfg=fg guibg=bg guifg=fg gui=underline
     hi htmlUnderlineItalic ctermbg=bg ctermfg=fg guibg=bg guifg=fg gui=underline,italic
+
+    hi CursorColumn guifg=NONE
+    hi CursorLine guifg=NONE
 else
     hi Normal ctermbg=0 ctermfg=7 guibg=#181818 guifg=#cacaca gui=none
+    set background=dark " Normal might change this
 
     hi Cursor guibg=#e5e5e5 guifg=#000000 gui=none
     hi CursorColumn ctermbg=8 ctermfg=15 guibg=#404040 gui=none
@@ -118,11 +119,7 @@
     hi TabLineSel guibg=bg guifg=#e5e5e5 gui=bold
     hi Title ctermbg=bg ctermfg=15 guifg=#e5e5e5 gui=bold
     hi VertSplit ctermbg=7 ctermfg=0 guibg=#35466a guifg=#afbacf gui=none
-    if version >= 700
-        hi Visual ctermbg=7 ctermfg=0 guibg=#274278 gui=none
-    else
-        hi Visual ctermbg=7 ctermfg=0 guibg=#274278 guifg=fg gui=none
-    endif    
+    hi Visual ctermbg=7 ctermfg=0 guibg=#274278 guifg=fg gui=none
     hi VisualNOS ctermbg=8 ctermfg=0 guibg=bg guifg=#5c77ad gui=bold,underline
     hi WarningMsg guibg=bg guifg=#ea0023 gui=bold
     hi WildMenu guibg=#fbca01 guifg=#000000 gui=bold
@@ -148,6 +145,10 @@
     hi htmlItalic ctermbg=bg ctermfg=15 guibg=bg guifg=fg gui=italic
     hi htmlUnderline ctermbg=bg ctermfg=15 guibg=bg guifg=fg gui=underline
     hi htmlUnderlineItalic ctermbg=bg ctermfg=15 guibg=bg guifg=fg gui=underline,italic
+
+    hi CursorColumn guifg=NONE
+    hi CursorLine guifg=NONE
+    hi Title guibg=NONE
 endif
 
 hi! default link bbcodeBold htmlBold
